import sklearn as sklearn
import pandas as pd
import xgboost as xgb
import seaborn as seaborn
import lightgbm as lgbm
import matplotlib as plt
import shap as shap

demo = pd.read_csv("demographic.csv")
labs = pd.read_csv("examination.csv")
diet = pd.read_csv("diet.csv")
questions = pd.read_csv("questionnaire.csv")
examination = pd.read_csv("examination.csv")

# merging five main data files 
df = demo \
    .merge(labs, on="SEQN", how="left") \
    .merge(diet, on="SEQN", how="left") \
    .merge(questions, on="SEQN", how="left") \
    .merge(examination, on="SEQN", how="left")

# cleaning

df = df.replace([7, 8, 9], pd.NA) # droping (replacing with "NaN") invalid survey-type values 

df = df[df["DIQ10"].isin([1, 2])] # drop any value in column DIQ10 (was diabetes diagnosed) that's not 1 or 2 (yes/no)
df["diabetes"] = df["DIQ10"].replace({1:1, 2:0}) # convert to binary - diabetes positive = 1, negative = 0
